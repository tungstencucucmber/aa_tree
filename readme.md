Self-balancing AA-tree realization. Inspired by icelaulers.cpp.